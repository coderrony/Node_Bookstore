<%- include('../partials/head') %>
<body>
  <%- include('../partials/nav') %>
  <main class="container mx-auto rounded-lg p-3 mt-5">
    <div class="flex items-center justify-center mb-8">
      <hr class="flex-grow border-t-2 border-blue-200 mr-4">
      <h2 class="text-3xl text-blue-600 font-bold text-center">
        <span class="inline-block align-middle">Add To Cart</span>
      </h2>
      <hr class="flex-grow border-t-2 border-blue-200 ml-4">
    </div>
    <div class="flex flex-col gap-6 max-w-3xl mx-auto">
      <% if (books && books.length > 0) { %>
        <% books.forEach(function(book) { %>
          <div class="flex flex-col md:flex-row items-center bg-white rounded-xl shadow-lg overflow-hidden">
            <img src="<%= book.image %>" alt="<%= book.name %>" class="w-full md:w-48 h-64 object-cover md:rounded-l-xl">
            <div class="flex-1 p-6 flex flex-col justify-between w-full">
              <div>
                <h3 class="text-2xl font-bold mb-2 text-gray-800"><%= book.name %></h3>
                <p class="text-gray-600 mb-4"><%= book.description %></p>
              </div>
              <div class="flex items-center justify-between mt-2">
                <span class="text-xl font-bold text-blue-600">$<%= book.price %></span>
                <div class="flex gap-2">
                  <form action="/cart/remove/<%= book._id %>" method="POST">
                    <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded transition">
                       <a href="/delete-add-to-cart/<%= book._id %>" >Remove</a>
                    </button>
                  </form>
                  <a href="/book/<%= book._id %>" class="bg-gray-200 hover:bg-gray-300 text-gray-800 px-4 py-2 rounded transition">View</a>
                </div>
              </div>
            </div>
          </div>
        <% }) %>
      <% } else { %>
        <div class="text-center text-gray-500 text-lg">
          Your cart is empty.
        </div>
      <% } %>
    </div>
  </main>
</body>
</html>
